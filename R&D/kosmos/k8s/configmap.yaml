apiVersion: v1
kind: ConfigMap
metadata:
  name: kosmos-config
  namespace: kosmos
data:
  # Claude Configuration
  CLAUDE_MODEL: "claude-3-5-sonnet-20241022"
  CLAUDE_MAX_TOKENS: "4096"
  CLAUDE_TEMPERATURE: "0.7"
  CLAUDE_ENABLE_CACHE: "true"

  # Research Configuration
  MAX_RESEARCH_ITERATIONS: "10"
  RESEARCH_BUDGET_USD: "10.0"
  ENABLED_DOMAINS: "biology,physics,chemistry,neuroscience"
  ENABLED_EXPERIMENT_TYPES: "computational,data_analysis,literature_synthesis"
  MIN_NOVELTY_SCORE: "0.6"
  ENABLE_AUTONOMOUS_ITERATION: "true"

  # Database Configuration (connection string uses secrets)
  DATABASE_ECHO: "false"

  # Redis Configuration
  REDIS_ENABLED: "true"
  REDIS_MAX_CONNECTIONS: "50"
  REDIS_SOCKET_TIMEOUT: "5"
  REDIS_SOCKET_CONNECT_TIMEOUT: "5"
  REDIS_RETRY_ON_TIMEOUT: "true"
  REDIS_DECODE_RESPONSES: "true"
  REDIS_DEFAULT_TTL_SECONDS: "3600"

  # Logging Configuration
  LOG_LEVEL: "INFO"
  LOG_FORMAT: "json"
  DEBUG_MODE: "false"

  # Performance Configuration
  ENABLE_RESULT_CACHING: "true"
  CACHE_TTL: "3600"
  PARALLEL_EXPERIMENTS: "0"

  # Concurrent Operations
  ENABLE_CONCURRENT_OPERATIONS: "true"
  MAX_CONCURRENT_EXPERIMENTS: "4"
  MAX_PARALLEL_HYPOTHESES: "3"
  MAX_CONCURRENT_LLM_CALLS: "5"
  LLM_RATE_LIMIT_PER_MINUTE: "50"
  ASYNC_BATCH_TIMEOUT: "300"

  # Profiling
  ENABLE_PROFILING: "false"
  PROFILING_MODE: "light"
  STORE_PROFILE_RESULTS: "true"
  PROFILE_STORAGE_DAYS: "30"
  ENABLE_BOTTLENECK_DETECTION: "true"
  BOTTLENECK_THRESHOLD_PERCENT: "10"

  # Safety Configuration
  ENABLE_SAFETY_CHECKS: "true"
  MAX_EXPERIMENT_EXECUTION_TIME: "300"
  MAX_MEMORY_MB: "2048"
  ENABLE_SANDBOXING: "true"
  REQUIRE_HUMAN_APPROVAL: "false"

  # Monitoring
  ENABLE_USAGE_STATS: "true"
  METRICS_EXPORT_INTERVAL: "60"
